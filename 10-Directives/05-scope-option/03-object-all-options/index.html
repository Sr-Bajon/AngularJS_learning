<!-- index.html-->
<html>
<head>
  <title>Stock Market App</title>
</head>
<body ng-app="stockMarketApp">
<div ng-controller="MainCtrl as mainCtrl">
  <h3>List of Stocks</h3>

  <div ng-repeat="s in mainCtrl.stocks">
    <div stock-widget
         stock-data="s"
         stock-title="Stock {{$index}}. {{s.name}}"
         when-select="mainCtrl.onStockSelect(stockPrice, stockName)">
    </div>
  </div>
</div>
<script src="http://code.angularjs.org/1.2.16/angular.js"></script>
<script src="app.js"></script>
<script src="directive.js"></script>
</body>
</html>

<!--
 en el index.html ha cambiado la forma en que usamos nuestra directiva, ahora
 le pasamos tb un titulo y una función.
 observar que en las directivas como ng-bind o ng-show si le pasamos una
 funcion como miFuncion() lo que hacen es llamarla, pero si la ponemos en un
 atributo lo que hace Angular es pasarla como referencia y no llamarla, de
 forma que podemos ejecutarla en nuestra directiva.
 -->
